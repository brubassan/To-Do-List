(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();const p=document.querySelector("#modalAdd"),E=document.querySelector("#btnAbrirModalAdd"),v=document.querySelector("#btnAddTarefa"),f=document.querySelector("#tabelaTarefas tbody"),x=document.querySelector("#relogio"),g=document.querySelector("#modalExcluir"),y=document.querySelector("#modalConcluir"),T=document.querySelector("#btnConfirmarExclusao"),L=document.querySelector("#btnConfirmarConclusao");let c=null;const h=document.querySelector("#filtro"),C="listaTarefas";function u(){const e=localStorage.getItem(C);return e?JSON.parse(e):[]}function m(e){localStorage.setItem(C,JSON.stringify(e))}function b(e){const o=document.createElement("tr");o.dataset.taskId=e.id,e.status==="Concluído"?(o.style.backgroundColor="#B7F7C5",o.style.textDecoration="line-through"):o.style.backgroundColor="#d4d4d4";const n=document.createElement("td");n.textContent=e.titulo,o.appendChild(n);const r=document.createElement("td");r.textContent=e.descricao,o.appendChild(r);const t=document.createElement("td");t.textContent=e.data,o.appendChild(t);const a=document.createElement("td");a.textContent=e.status,o.appendChild(a);const s=document.createElement("td"),d=document.createElement("button");d.textContent="Excluir",d.className="btn-excluir bg-red-400 text-white font-semibold cursor-pointer rounded-lg p-2 mr-2",d.addEventListener("click",i=>{c=i.target.closest("tr"),g.showModal()});const l=document.createElement("button");return l.textContent="Concluir",l.className="btn-concluir bg-green-400 text-white font-semibold cursor-pointer rounded-lg p-2",e.status==="Concluído"&&(l.disabled=!0,l.style.cursor="default",l.style.backgroundColor="gray"),l.addEventListener("click",i=>{c=i.target.closest("tr"),y.showModal()}),s.appendChild(d),s.appendChild(l),o.appendChild(s),o}function q(){u().forEach(o=>{const n=b(o);f.appendChild(n)})}function A(){const e=new Date;let o=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");const t=`${o}:${n}:${r}`;x.textContent=t}setInterval(A,1e3);E.addEventListener("click",()=>{document.querySelector("#tituloTarefa").value="",document.querySelector("#descricaoTarefa").value="",p.showModal()});v.addEventListener("click",e=>{e.preventDefault();const o=document.querySelector("#tituloTarefa").value.trim(),n=document.querySelector("#descricaoTarefa").value.trim();if(o===""){alert("Por favor, adicione um título à tarefa.");return}const r=new Date,t=r.toLocaleDateString("pt-br"),a=String(r.getHours()).padStart(2,"0"),s=String(r.getMinutes()).padStart(2,"0"),d=`[${t}] ${a}:${s}`,l={id:Date.now(),titulo:o,descricao:n,data:d,status:"Pendente"},i=u();i.push(l),m(i);const S=b(l);f.appendChild(S),p.close()});T.addEventListener("click",()=>{if(c){const e=parseInt(c.dataset.taskId);c.remove();let o=u();o=o.filter(n=>n.id!==e),m(o),c=null}g.close()});L.addEventListener("click",()=>{if(c){const e=parseInt(c.dataset.taskId),o=c.children[3],n=c.children[4].children[1];o.textContent="Concluído",c.style.backgroundColor="#B7F7C5",c.style.textDecoration="line-through",n.disabled=!0,n.style.cursor="default",n.style.backgroundColor="gray";let r=u();const t=r.findIndex(a=>a.id===e);t>-1&&(r[t].status="Concluído",m(r)),c=null}y.close()});function I(){const e=h.value;f.querySelectorAll("tr").forEach(n=>{const r=n.children[3].textContent.trim();let t=!1;e==="todas"?t=!0:e==="pendentes"?r==="Pendente"&&(t=!0):e==="concluídas"&&r==="Concluído"&&(t=!0),t?n.style.display="":n.style.display="none"})}h.addEventListener("change",I);q();
